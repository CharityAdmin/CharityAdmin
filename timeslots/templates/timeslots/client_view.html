{% extends "base.html" %}

{% block content %}
	<h1>{{ client }}</h1>

	<div class="block">
		<h3>Openings (Next 30 days)</h3>
		<ul class="well">
			{% for opening in openings %}
				<li>
					<!-- TODO: Figure out how we tell if an instance is filled -->
					<a href="#" class="{% if opening.is_filled %}filled{% else %}unfilled text-danger{% endif %}">
						<span class="label {% if not opening.is_filled %}label-danger un{% endif %}filled_label">
					 		{% if not opening.is_filled %}Un{% endif %}filled
					 	</span>
						<span class="date-display">
							{{ opening.date|date:"D N j, Y, P" }}
						</span>
					</a>
				</li>
			{% endfor %}
		</ul>
		<a class="more-link" href="{% url 'timeslots_upcoming_commitments' %}">view all openings</a>
	</div>

	<div class="block">
		<h3>Opening Patterns</h3>
		<ul class="well">
			{% for pattern in client.openings.all %}
				<li>
					<a href="#">
						<span class="label pattern-label{% if pattern.is_unfilled %} label-danger{% endif %}{% if pattern.is_partially_filled %} label-warning{% endif %}">
							{{ pattern.get_filled_status }}
						</span>
						<span class="pattern-display">
							{{ pattern }}
						</span>
					</a>
				</li>
			{% endfor %}
		</ul>
	</div>

{% endblock %}